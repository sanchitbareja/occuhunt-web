{% extends "base.html" %}
{% load static from staticfiles %}
{% load i18n %}
{% load url from future %}

{% block extra_style %}
<link href="{% static "occuhunt/css/companies-list.css" %}" rel="stylesheet">
<link href="{% static "occuhunt/css/companies-favoriting.css" %}" rel="stylesheet">

<style type="text/css">

body {
    -webkit-font-smoothing: antialiased;
    font-smoothing: antialiased;
    font-smooth: always;
}

#loadingProgressG{
width:236px;
height:8px;
overflow:hidden;
background-color:#FFFFFF;
-moz-border-radius:4px;
-webkit-border-radius:4px;
-ms-border-radius:4px;
-o-border-radius:4px;
border-radius:4px;
}

.loadingProgressG{
background-color:#22afb1;
margin-top:0;
margin-left:-236px;
-moz-animation-name:bounce_loadingProgressG;
-moz-animation-duration:0.7s;
-moz-animation-iteration-count:infinite;
-moz-animation-timing-function:linear;
-webkit-animation-name:bounce_loadingProgressG;
-webkit-animation-duration:0.7s;
-webkit-animation-iteration-count:infinite;
-webkit-animation-timing-function:linear;
-ms-animation-name:bounce_loadingProgressG;
-ms-animation-duration:0.7s;
-ms-animation-iteration-count:infinite;
-ms-animation-timing-function:linear;
-o-animation-name:bounce_loadingProgressG;
-o-animation-duration:0.7s;
-o-animation-iteration-count:infinite;
-o-animation-timing-function:linear;
animation-name:bounce_loadingProgressG;
animation-duration:0.7s;
animation-iteration-count:infinite;
animation-timing-function:linear;
width:236px;
height:8px;
}

@-moz-keyframes bounce_loadingProgressG{
  0%{
  margin-left:-236px;
  }

  100%{
  margin-left:236px;
  }

  }

  @-webkit-keyframes bounce_loadingProgressG{
  0%{
  margin-left:-236px;
  }

  100%{
  margin-left:236px;
  }

  }

  @-ms-keyframes bounce_loadingProgressG{
  0%{
  margin-left:-236px;
  }

  100%{
  margin-left:236px;
  }

  }

  @-o-keyframes bounce_loadingProgressG{
  0%{
  margin-left:-236px;
  }

  100%{
  margin-left:236px;
  }

  }

  @keyframes bounce_loadingProgressG{
  0%{
  margin-left:-236px;
  }

  100%{
  margin-left:236px;
  }

}

</style>


{% endblock %}

{% block extra_script %}
<script src="{% static "occuhunt/js/companies-search.js" %}"></script>
<script type="text/javascript">
  function initialize(){
    randomizeString();
    get_companies(20);
  }

  // get all companies on launch
  $(document).ready(initialize);
  
</script>
{% endblock %}

{% block content %}

{% if user.is_authenticated %}

<div class="row text-center page-header-section">
  <h1 style="color:black;">Companies</h1>
  <h4 style="color:black;">Search companies.</h4>
</div>

<div class="row">
  <div class="col-lg-3 right-no-margin">
    <h4>Search for companies that have attended Berkeley's career fairs.</h4>
    <h3 id="companies_found"></h3>
    <input type="text" class="form-control input-lg" id="inputCompanySearch" placeholder="Try &quot;San Francisco&quot;">
    <br/>
    <button class="btn btn-done btn-lg" onclick="searchCompanies();">Search</button>
    <br />
    <br />
    <div id="loading_state"></div>
  </div>

  <div class="col-lg-9">
    <div class="row" id="companies_list">

    </div>    
  </div>
</div>

<br />

{% else %}
  <div class="row">
    <div class="col-lg-12">
      <h3 class="text-center text-white">Login to organize your job applications process<br /><br /><a href="/login/linkedin/?next={{request.path}}"><img src="{% static 'images/login-with-linkedin.png' %}"></a></h3>

      <img src="{% static 'images/favorites_example.png' %}">      
    </div>
  </div>

{% endif %}
{% endblock %}